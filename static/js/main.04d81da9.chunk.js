(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{101:function(e,t,n){"use strict";var r=function(e){return!!e},a=n(23),i=n(57),o={authUser:null};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.a:return Object(a.a)({},e,{authUser:t.data});default:return e}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return u})},115:function(e,t,n){e.exports=n(221)},120:function(e,t,n){},221:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(42),o=n.n(i),u=(n(120),n(391)),c=n(394),s=n(390),l=n(55),d=n(45),h=n(70),f=n(73),p=n(71),g=n(74),m=n(31),b=n(39),v=n(57);function E(e){return function(t){t({type:v.a,data:e})}}var O=n(33),R=function(e){var t=function(t){function n(e){var t;return Object(d.a)(this,n),(t=Object(f.a)(this,Object(p.a)(n).call(this,e))).props.setAuthUser(JSON.parse(localStorage.getItem("authUser"))),t}return Object(g.a)(n,t),Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=O.a.onAuthUserListener(function(t){localStorage.setItem("authUser",JSON.stringify(t)),e.props.setAuthUser(t)},function(){localStorage.removeItem("authUser"),e.props.setAuthUser(null)})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),n}(a.a.Component),n={setAuthUser:E};return Object(b.a)(Object(m.b)(null,n))(t)},w=n(28),U=Object(w.a)(function(){return Promise.resolve().then(n.bind(null,388))}),S=Object(w.a)(function(){return Promise.resolve().then(n.bind(null,387))}),A=Object(w.a)(function(){return Promise.all([n.e(0),n.e(8),n.e(3)]).then(n.bind(null,392))}),P=Object(w.a)(function(){return n.e(4).then(n.bind(null,393))}),_=R(function(){return a.a.createElement(u.a,null,a.a.createElement(c.a,null,a.a.createElement(s.a,{path:l.b,exact:!0,component:A}),a.a.createElement(s.a,{path:l.c,component:U}),a.a.createElement(s.a,{path:l.d,component:S}),a.a.createElement(s.a,{component:P})))}),j=n(38),I=n(101),y=n(388),T=n(387),k=n(104),x=Object(j.e)(Object(j.c)({authReducer:I.a,loginReducer:y.loginReducer,registerReducer:T.registerReducer}),Object(j.d)(Object(j.a)(k.a),function(e){return e}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(m.a,{store:x},a.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},24:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return u}),n.d(t,"d",function(){return c});var r="LOGIN_USER_REQUEST",a="LOGIN_USER_SUCCESS",i="LOGIN_USER_FAILURE",o="LOGOUT_USER_REQUEST",u="LOGOUT_USER_SUCCESS",c="LOGOUT_USER_FAILURE"},28:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(18),o=n(78),u=n.n(o);var c=Object(i.withStyles)(function(e){return{progress:{margin:2*e.spacing.unit}}})(function(e){var t=e.classes;return a.a.createElement("div",null,a.a.createElement(u.a,{className:t.progress}))});t.a=function(e){return t=Object(r.lazy)(e),function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement(c,null)},a.a.createElement(t,e))};var t}},33:function(e,t,n){"use strict";var r=n(27),a=n.n(r),i=n(23),o=n(37),u=n(45),c=n(29),s=n.n(c),l=(n(132),n(134),{apiKey:"AIzaSyC7-ZLAlE3dhxwmv2zOTfDK8heVFKb-l3I",authDomain:"fir-auth-25b51.firebaseapp.com",databaseURL:"https://fir-auth-25b51.firebaseio.com/",projectId:"fir-auth-25b51",storageBucket:"fir-auth-25b51.appspot.com",messagingSenderId:"634110193976"}),d=new function e(){var t=this;Object(u.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"/firebase-back-office",REACT_APP_API_KEY:"AIzaSyC7-ZLAlE3dhxwmv2zOTfDK8heVFKb-l3I",REACT_APP_AUTH_DOMAIN:"fir-auth-25b51.firebaseapp.com",REACT_APP_DATABASE_URL:"https://fir-auth-25b51.firebaseio.com/",REACT_APP_PROJECT_ID:"fir-auth-25b51",REACT_APP_STORAGE_BUCKET:"fir-auth-25b51.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"634110193976"}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,n){return t.auth.onAuthStateChanged(function(){var r=Object(o.a)(a.a.mark(function r(o){var u,c;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!o){r.next=10;break}return r.next=3,t.user(o.uid).once("value");case 3:u=r.sent,(c=u.val()).roles||(c.roles=[]),o=Object(i.a)({uid:o.uid,email:o.email,emailVerified:o.emailVerified,providerData:o.providerData},c),e(o),r.next=11;break;case 10:n();case 11:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}())},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.message=function(e){return t.db.ref("messages/".concat(e))},this.messages=function(){return t.db.ref("messages")};try{s.a.initializeApp(l)}catch(n){/already exists/.test(n.message)||console.error("Firebase initialization error",n.stack)}this.serverValue=s.a.database.ServerValue,this.emailAuthProvider=s.a.auth.EmailAuthProvider,this.auth=s.a.auth(),this.db=s.a.database(),this.googleProvider=new s.a.auth.GoogleAuthProvider,this.facebookProvider=new s.a.auth.FacebookAuthProvider,this.twitterProvider=new s.a.auth.TwitterAuthProvider},h=n(0),f=n.n(h);f.a.createContext(null),t.a=d},387:function(e,t,n){"use strict";n.r(t);var r=n(40),a=n(0),i=n.n(a),o=n(53),u=n.n(o),c=n(46),s=n.n(c),l=n(59),d=n.n(l),h=n(14),f=n.n(h),p=n(54),g=n.n(p),m=n(15),b=n.n(m),v=n(26),E=n.n(v),O=n(27),R=n.n(O),w=n(37),U="REGISTER_USER_REQUEST",S="REGISTER_USER_SUCCESS",A="REGISTER_USER_FAILURE",P=n(33),_=function(e){var t=e.username,n=e.email,r=e.password,a=e.roles,i=void 0===a?[]:a;return function(){var e=Object(w.a)(R.a.mark(function e(a){var o;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:U}),e.prev=1,e.next=4,P.a.doCreateUserWithEmailAndPassword(n,r);case 4:return o=e.sent,e.next=7,P.a.user(o.user.uid).set({username:t,email:n,roles:i});case 7:a({type:S,data:o}),window.location.href="/",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a((u=e.t0,{type:A,error:u}));case 14:case"end":return e.stop()}var u},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}()},j=n(39),I=n(31),y=n(28),T=Object(y.a)(function(){return Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,397))});var k={registerUser:_},x=Object(j.a)(E()(function(e){return{main:Object(r.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main}}}),Object(I.b)(function(e){return{loading:e.registerReducer.loading,data:e.registerReducer.data,error:e.registerReducer.error}},k))(function(e){var t=e.classes,n=e.registerUser,r=e.error,a=e.loading;return i.a.createElement("main",{className:t.main},i.a.createElement(s.a,null),i.a.createElement(f.a,{className:t.paper},i.a.createElement(u.a,{className:t.avatar},i.a.createElement(d.a,null)),i.a.createElement(b.a,{component:"h1",variant:"h5"},"Register"),i.a.createElement(T,{onSubmit:n,error:r,loading:a})),r&&r.message&&i.a.createElement(g.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!r.message,autoHideDuration:3e3,message:r.message}))}),C=n(23),L={data:null,loading:!1,error:null};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(C.a)({},e,{loading:!0,error:null});case S:return Object(C.a)({},e,{loading:!1,data:t.data});case A:return Object(C.a)({},e,{loading:!1,error:t.error});default:return e}}n.d(t,"registerReducer",function(){return N}),n.d(t,"registerUser",function(){return _});t.default=x},388:function(e,t,n){"use strict";n.r(t);var r=n(40),a=n(0),i=n.n(a),o=n(53),u=n.n(o),c=n(46),s=n.n(c),l=n(59),d=n.n(l),h=n(14),f=n.n(h),p=n(54),g=n.n(p),m=n(15),b=n.n(m),v=n(26),E=n.n(v),O=n(44),R=n(39),w=n(31),U=n(28),S=Object(U.a)(function(){return Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,396))});var A={loginUser:O.a},P=Object(R.a)(E()(function(e){return{main:Object(r.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main}}}),Object(w.b)(function(e){return{loading:e.loginReducer.loading,data:e.loginReducer.data,error:e.loginReducer.error}},A))(function(e){var t=e.classes,n=e.loginUser,r=e.error,a=e.loading;return i.a.createElement("main",{className:t.main},i.a.createElement(s.a,null),i.a.createElement(f.a,{className:t.paper},i.a.createElement(u.a,{className:t.avatar},i.a.createElement(d.a,null)),i.a.createElement(b.a,{component:"h1",variant:"h5"},"Login"),i.a.createElement(S,{onSubmit:n,error:r,loading:a})),r&&r.message&&i.a.createElement(g.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!r.message,autoHideDuration:1e3,message:r.message}))}),_=n(23),j=n(24),I={data:null,loading:!1,error:null};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b:return Object(_.a)({},e,{loading:!0,error:null});case j.c:return Object(_.a)({},e,{loading:!1,data:t.data});case j.a:return Object(_.a)({},e,{loading:!1,error:t.error});case j.e:return Object(_.a)({},e,{loading:!0});case j.f:return Object(_.a)({},e,{loading:!1,data:null});case j.d:return Object(_.a)({},e,{loading:!1,error:t.error});default:return e}}n.d(t,"loginReducer",function(){return y}),n.d(t,"loginUser",function(){return O.a}),n.d(t,"logoutUser",function(){return O.b});t.default=P},44:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var r=n(27),a=n.n(r),i=n(37),o=n(24),u=n(33),c=function(e){var t=e.email,n=e.password;return function(){var e=Object(i.a)(a.a.mark(function e(r){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:o.b}),e.prev=1,e.next=4,u.a.doSignInWithEmailAndPassword(t,n);case 4:i=e.sent,r((c=i,{type:o.c,data:c})),window.location.href="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r((a=e.t0,{type:o.a,error:a}));case 12:case"end":return e.stop()}var a,c},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},s=function(e,t){return function(){var e=Object(i.a)(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:o.e}),e.prev=1,e.next=4,u.a.doSignOut();case 4:t((r=void 0,{type:o.f,data:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t((n=void 0,{type:o.d,error:n}));case 10:case"end":return e.stop()}var n,r},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()}},55:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o});var r="/",a="/register",i="/login",o="/home"},57:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_AUTH_USER"}},[[115,9,7]]]);
//# sourceMappingURL=main.04d81da9.chunk.js.map